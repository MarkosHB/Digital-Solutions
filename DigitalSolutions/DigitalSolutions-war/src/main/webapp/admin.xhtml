<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<title>Login de usuario</title>
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputScript library="js" name="bootstrap.min.js" />
	
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
</h:head>
<h:body>

	<h:form id="loginAD">

		<c:choose>
			<c:when test="#{!empty infoSesion.usuario}">
				<p>
					Está autenticado como
					<h:outputText value="#{infoSesion.usuario.usuario}" />
					.
				</p>
				<p>
					Para iniciar sesión con otra cuenta debe
					<h:commandLink action="#{infoSesion.invalidarSesion()}">salir</h:commandLink>
					primero de la aplicación
				</p>
			</c:when>

			<c:otherwise>
				<div class="d-flex align-items-center justify-content-center">
					<h1 id="indexLITitle">Login de los administrativos</h1>
				</div>
				<div class="d-flex align-items-center justify-content-center">

					<h:panelGrid>
						<h:panelGroup>
							<div class="input-group flex-grow-1">
								<span class="input-group-text bg-primary text-white"
									id="basic-addon1"><span class="fa fa-user"></span></span>
								<div class="form-floating flex-grow-1">
									<h:inputText type="text" class="form-control"
										pt:placeholder="Usuario" aria-label="Username" aria-describedby="basic-addon1"
										id="loginUsername" required="true" value="#{login.userName}" />
									<label for="loginUsernameAD">Usuario</label>
								</div>
							</div>
						</h:panelGroup>
						<h:panelGroup>
						<div class="input-group flex-grow-1">
								<span class="input-group-text bg-primary text-white"
									id="basic-addon1"><span class="fa fa-lock"></span></span>
								<div class="form-floating flex-grow-1">
									<h:inputSecret type="text" class="form-control"
									pt:placeholder="Contraseña" aria-label="Username"
									aria-describedby="basic-addon1" id="loginPassword"
									required="true" value="#{login.password}" />
									<label for="loginPasswordAD">Contraseña</label>
								</div>
							</div>
							
						</h:panelGroup>
					</h:panelGrid>
				</div>
				<br/>
				<div class="d-flex align-items-center justify-content-center">

					<h:commandButton class="btn btn-primary btn-lg" id="loginBotonAD"
						value="Entrar" action="#{login.entrarAD()}" />

					<h:messages />
				</div>
			</c:otherwise>
		</c:choose>
	</h:form>
</h:body>
</html>

