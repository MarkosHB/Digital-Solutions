<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<title>Login de usuario</title>
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputScript library="js" name="bootstrap.min.js" />

	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
</h:head>
<h:body>

	<h:form id="login">

		<c:choose>
			<c:when test="#{!empty infoSesion.usuario}">
				<p>
					Está autenticado como
					<h:outputText value="#{infoSesion.usuario.usuario}" />
					.
				</p>
				<p>
					Para iniciar sesión con otra cuenta debe
					<h:commandLink action="#{infoSesion.invalidarSesion()}">salir</h:commandLink>
					primero de la aplicación
				</p>
			</c:when>

			<c:otherwise>
				<div class="d-flex align-items-center justify-content-center">
					<h1 id="indexLITitle">Login para clientes</h1>
				</div>
				<div class="d-flex align-items-center justify-content-center">

					<h:panelGrid>
						<h:panelGroup>
							<div class="input-group flex-grow-1">
								<span class="input-group-text bg-primary text-white"
									id="basic-addon1"><span class="fa fa-user"></span></span>
								<div class="form-floating flex-grow-1">
									<h:inputText type="text" class="form-control"
										pt:placeholder="Usuario" aria-label="Username"
										aria-describedby="basic-addon1" id="loginUsername"
										required="true" value="#{login.userName}" />
									<label for="loginUsername">Usuario</label>
								</div>
							</div>
						</h:panelGroup>
						<h:panelGroup>
							<div class="input-group flex-grow-1">
								<span class="input-group-text bg-primary text-white"
									id="basic-addon1"><span class="fa fa-lock"></span></span>
								<div class="form-floating flex-grow-1">
									<h:inputSecret type="text" class="form-control"
										pt:placeholder="Contraseña" aria-label="Username"
										aria-describedby="basic-addon1" id="loginPassword"
										required="true" value="#{login.password}" />
									<label for="loginPassword">Contraseña</label>
								</div>
							</div>

						</h:panelGroup>
					</h:panelGrid>
				</div>
				<br />
				<div class="d-flex align-items-center justify-content-center">

					<h:commandButton class="btn btn-primary btn-lg" id="loginBoton"
						value="Entrar" action="#{login.entrar()}" />

					<h:messages />
				</div>
				<br />
				<div class="d-flex align-items-center justify-content-center">
					<div id="carouselExampleInterval" class="carousel slide w-25 h-25"
						data-bs-ride="carousel">
						<div class="carousel-inner">
							<div class="carousel-item active" data-bs-interval="3000">
								<img src="resources/DS.png" class="d-block w-100" alt="Test1" />
							</div>
							<div class="carousel-item" data-bs-interval="3000">
								<img src="resources/MO.png" class="d-block w-100" alt="Test2" />
								<div class="carousel-caption d-none d-md-block text-dark">
									<p>Moritz Baader</p>
								</div>
							</div>
							<div class="carousel-item" data-bs-interval="3000">
								<img src="resources/AR.png" class="d-block w-100" alt="Test3" />
								<div class="carousel-caption d-none d-md-block text-dark">
									<p>Ariadna Medina Guerrero</p>
								</div>
							</div>
							<div class="carousel-item" data-bs-interval="3000">
								<img src="resources/MA.png" class="d-block w-100" alt="Test4" />
								<div class="carousel-caption d-none d-md-block text-info">
									<p>Marcos Hidalgo Baños</p>
								</div>
							</div>
							<div class="carousel-item" data-bs-interval="3000">
								<img src="resources/FR.png" class="d-block w-100" alt="Test5" />
								<div class="carousel-caption d-none d-md-block text-dark">
									<p>Francisco Velasco Romero</p>
								</div>
							</div>
						</div>
						<button class="carousel-control-prev" type="button"
							data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button"
							data-bs-target="#carouselExampleInterval" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>
				</div>
			</c:otherwise>
		</c:choose>
	</h:form>
</h:body>
</html>

