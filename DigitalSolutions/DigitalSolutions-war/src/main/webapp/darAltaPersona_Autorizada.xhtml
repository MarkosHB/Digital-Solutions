<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
	<title>Crear cuenta de persona autorizada</title>
</h:head>
<h:body>
	<h:form id="formularioPA_darDeAlta">
		<c:choose>
			<c:when
				test="#{empty infoSesion.usuario or not infoSesion.usuario.esAdministrativo}">
				<p>
					Debe loguearse como administrativo:
					<h:link outcome="admin.xhtml">log in</h:link>
				</p>


			</c:when>
			<c:otherwise>

				<h1>Datos del usuario:</h1>

				<h:panelGrid columns="4">
					<h:outputText id="UsuarioPA_DarAlta" value="Usuario:" />
					<h:inputText id="UsuarioPA_DarAltaT"
						value="#{administrativo.usuario.usuario}" required="true" />

					<h:outputText id="CorreoPA_DarAlta" value="Correo:" />
					<h:inputText id="CorreoPA_DarAltaT"
						value="#{administrativo.usuario.correo}" />

					<h:outputText id="ContrasenaPA_DarAlta" value="Contraseña:"
						required="true" />
					<h:inputSecret id="ContrasenaPA_DarAltaT"
						value="#{administrativo.usuario.password}" />

				</h:panelGrid>

				<h:message for="e_darAltaPersona_Autorizada" />


				<h1>Datos de la persona autorizada:</h1>


				<h:outputText id="EstadoPA_DarAlta" value="Estado:" />
				<h:selectOneMenu id="EstadoPA_DarAltaT"
					value="#{administrativo.paut.estado}" required="true">
					<f:selectItem itemLabel="Baja" itemValue="Baja" />
					<f:selectItem itemLabel="Alta" itemValue="Alta" />
					<f:selectItem itemLabel="Bloqueado" itemValue="Bloqueado" />
				</h:selectOneMenu>

				<h:panelGrid columns="4">



					<h:outputText id="IdentificacionPA_DarAlta" value="DNI:" />
					<h:inputText id="IdentificacionPA_DarAltaT"
						value="#{administrativo.paut.identificacion}" required="true" />

					<h:outputText id="DireccionPA_DarAlta" value="Dirección:" />
					<h:inputText id="DireccionPA_DarAltaT"
						value="#{administrativo.paut.direccion}" required="true" />

					<h:outputText id="CiudadPA_DarAlta" value="Ciudad:" />
					<h:inputText id="CiudadPA_DarAltaT"
						value="#{administrativo.paut.ciudad}" required="true" />

					<h:outputText id="codigoPostalPA_DarAlta" value="Código postal:" />
					<h:inputText id="codigoPostalPA_DarAltaT"
						value="#{administrativo.paut.codigoPostal}" required="true" />

					<h:outputText id="PaisPA_DarAlta" value="País:" />
					<h:inputText id="PaisPA_DarAltaT"
						value="#{administrativo.paut.pais}" required="true" />

					<h:outputText id="NombreIPA_DarAlta" value="Nombre:" />
					<h:inputText id="NombreIPA_DarAltaT"
						value="#{administrativo.paut.nombre}" required="true" />

					<h:outputText id="ApellidoIPA_DarAlta" value="Apellido:" />
					<h:inputText id="ApellidoIPA_DarAltaT"
						value="#{administrativo.paut.apellidos}" required="true" />

					<h:outputText id="FechaNacPA_DarAlta" value="Fecha de nacimiento:" />
					<h:inputText id="FechaNacPA_DarAltaT"
						value="#{administrativo.paut.fecha_nacimiento}">
						<f:convertDateTime pattern="dd-MM-yyyy" />
					</h:inputText>

				</h:panelGrid>

				<h:commandButton id="EnviarPA_DarAlta" value="Enviar"
					action="#{administrativo.crearPAut()}" />

				<h:message for="e2_darAltaPersona_Autorizada" />

			</c:otherwise>
		</c:choose>
	</h:form>
</h:body>
</html>